(this["webpackJsonpexpenses.frontend"]=this["webpackJsonpexpenses.frontend"]||[]).push([[0],{119:function(e,t,n){},249:function(e,t,n){"use strict";n.r(t);var r=n(1),c=n(0),a=n.n(c),s=n(23),i=n.n(s),o=(n(119),n(11)),u=n(6),j=n(7),l=n(12),b=n.n(l),d=n(21),p=n(9),x=n(18),O=Object(x.b)("setExpensesError"),h=Object(x.b)("newExpenseError"),f=Object(x.b)("editExpenseError"),g=Object(x.b)("deleteExpenseError"),m=Object(x.c)({name:"expenses",initialState:{expenses:[]},reducers:{setExpenses:function(e,t){return Object(j.a)(Object(j.a)({},e),{},{expenses:Object(p.a)(t.payload)})},newExpense:function(e,t){return Object(j.a)(Object(j.a)({},e),{},{expenses:[t.payload].concat(Object(p.a)(e.expenses))})},editExpense:function(e,t){var n=e.expenses.map((function(e){return e.id===t.payload.id&&(e=t.payload),e}));return Object(j.a)(Object(j.a)({},e),{},{expenses:Object(p.a)(n)})},deleteExpense:function(e,t){var n=e.expenses.filter((function(e){return e.id!==t.payload.id}));return Object(j.a)(Object(j.a)({},e),{},{expenses:Object(p.a)(n)})}}}),v=m.actions,y=v.setExpenses,k=v.newExpense,w=v.editExpense,E=v.deleteExpense,S=m.reducer,C=n(33),F=C.create({baseURL:"".concat("https://localhost:44373","/expenses")});F.interceptors.request.use((function(e){return e.headers={authorization:"Bearer "+sessionStorage.getItem("token")},e}));var I=function(){var e=Object(d.a)(b.a.mark((function e(t){var n,r;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,F.get();case 3:n=e.sent,r=n.data,t(y(r)),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),t(O());case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}(),L=function(){var e=Object(d.a)(b.a.mark((function e(t,n){var r,c;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,F.post("",n);case 3:r=e.sent,c=r.data,t(k(c)),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),t(h());case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t,n){return e.apply(this,arguments)}}(),A=function(){var e=Object(d.a)(b.a.mark((function e(t,n){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,F.put("",n);case 3:t(w(n)),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),t(f());case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t,n){return e.apply(this,arguments)}}(),N=function(){var e=Object(d.a)(b.a.mark((function e(t,n){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,F.delete("",{data:Object(j.a)({},n)});case 3:t(E(n)),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),t(g());case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t,n){return e.apply(this,arguments)}}(),P=n(252),B=n(104),D=n(253),R=n(255),T=function(e){var t=e.expense,n=e.setIsEditing,a=["Groceries","Credit Card","Student Loans","Eating out","Gas"],s=Object(c.useState)(0),i=Object(o.a)(s,2),j=i[0],l=i[1],b=Object(c.useState)(a[0]),d=Object(o.a)(b,2),p=d[0],x=d[1],O=Object(c.useState)(!0),h=Object(o.a)(O,2),f=h[0],g=h[1],m=Object(u.b)();return Object(c.useEffect)((function(){void 0!==t?(g(!1),l(t.amount)):g(!0)}),[t]),Object(r.jsx)(R.a,{onSubmit:function(e){e.preventDefault(),f?L(m,{description:p,amount:Number(j)}):(A(m,{id:t.id,description:p,amount:Number(j)}),n(!1))},children:Object(r.jsxs)(P.a,{children:[Object(r.jsxs)(B.a,{children:[Object(r.jsx)(R.a.Label,{children:"Description"}),Object(r.jsx)(R.a.Control,{as:"select",onChange:function(e){return x(e.target.value)},children:a.map((function(e,t){return Object(r.jsx)("option",{children:e},t)}))})]}),Object(r.jsxs)(B.a,{children:[Object(r.jsx)(R.a.Label,{children:"Amount"}),Object(r.jsx)(R.a.Control,{type:"number",step:"0.01",placeholder:j,onChange:function(e){return l(e.target.value)}})]}),Object(r.jsx)("div",{style:{marginTop:"auto"},children:f?Object(r.jsx)(D.a,{variant:"primary",type:"submit",children:"Add"}):Object(r.jsxs)("div",{children:[Object(r.jsx)(D.a,{style:{marginRight:"2px"},variant:"danger",onClick:function(){return N(m,t)},children:"Delete"}),Object(r.jsx)(D.a,{style:{marginRight:"2px"},variant:"success",type:"submit",children:"Save"}),Object(r.jsx)(D.a,{style:{marginRight:"2px"},variant:"default",onClick:function(){return n(!1)},children:"Cancel"})]})})]})})},U=function(e){var t=e.expense,n=Object(c.useState)(!1),a=Object(o.a)(n,2),s=a[0],i=a[1];return s?Object(r.jsx)(T,{expense:t,setIsEditing:i}):Object(r.jsxs)("div",{children:[Object(r.jsxs)(P.a,{children:[Object(r.jsx)(B.a,{children:t.description}),Object(r.jsxs)(B.a,{children:["$",t.amount]}),Object(r.jsx)(D.a,{variant:"warning",onClick:function(){return i(!s)},children:"Edit"})]}),Object(r.jsx)("hr",{})]})},q=function(){var e=Object(u.b)(),t=Object(u.c)((function(e){return e.expensesSlice.expenses}));return Object(c.useEffect)((function(){I(e)}),[]),t.map((function(e){return Object(r.jsx)("div",{style:{marginBottom:"1rem"},children:Object(r.jsx)(U,{expense:e})},e.id)}))},W=n(24),G=function(){return Object(r.jsxs)("div",{style:{width:"60%",margin:"auto"},children:[Object(r.jsx)(W.a,{}),Object(r.jsx)("h4",{children:"New Expense"}),Object(r.jsx)(T,{}),Object(r.jsx)("hr",{style:{border:"1px solid grey"}}),Object(r.jsx)("h4",{children:"Your Expenses"}),Object(r.jsx)(q,{})]})},M=n(256),z=n(29),H=Object(x.c)({name:"authentication",initialState:{token:"",isLoggedIn:!1},reducers:{userAuthenticated:function(e,t){return sessionStorage.setItem("token",t.payload.token),Object(j.a)(Object(j.a)({},e),{token:t.payload.token,isLoggedIn:!0})},logout:function(){sessionStorage.clear()}}}),J=H.actions,$=J.userAuthenticated,K=J.logout,V=H.reducer,Y=function(){var e=Object(u.c)((function(e){return e.authenticationSlice})).isLoggedIn,t=Object(u.b)();return Object(r.jsxs)(M.a,{className:"navbar",style:{backgroundColor:"#e4fff2"},children:[Object(r.jsx)("h1",{style:{fontFamily:"Brush Script MT, cursive"},children:"My Expenses"}),e?Object(r.jsxs)("div",{style:{display:"flex",alignItems:"center"},children:[Object(r.jsx)(z.b,{style:{marginLeft:"1rem"},variant:"link",to:"/",children:"Home"}),Object(r.jsx)(z.b,{style:{marginLeft:"1rem"},variant:"link",to:"/statistics",children:"Statistics"}),Object(r.jsx)(D.a,{variant:"link",href:"/signin",onClick:function(){t(K())},children:"Log out"})]}):Object(r.jsxs)("div",{style:{display:"flex"},children:[Object(r.jsx)(z.b,{to:"/signup",children:"Sign up"}),Object(r.jsx)(z.b,{to:"/signin",style:{marginLeft:"1rem"},children:"Sign in"})]})]})},Q=n(254),X=n(103),Z=C.create({baseURL:"".concat("https://localhost:44373","/Authentication")}),_=function(){var e=Object(d.a)(b.a.mark((function e(t,n){var r,c;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Z.post("/signup",n);case 3:r=e.sent,c=r.data,t($(c)),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log("Error!");case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t,n){return e.apply(this,arguments)}}(),ee=function(){var e=Object(d.a)(b.a.mark((function e(t,n){var r,c;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Z.post("/signin",n);case 3:r=e.sent,c=r.data,t($(c)),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log("Error!");case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t,n){return e.apply(this,arguments)}}(),te=function(){var e=Object(d.a)(b.a.mark((function e(t,n){var r,c;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Z.post("/google?token=".concat(n));case 3:r=e.sent,c=r.data,t($(c)),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log("Error!");case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t,n){return e.apply(this,arguments)}}(),ne=n(108),re=function(){var e=Object(u.b)();return Object(r.jsx)("div",{style:{textAlign:"center",marginTop:"1rem"},children:Object(r.jsx)(ne.GoogleLogin,{clientId:"428198688853-pt3qup4aofqb7ob4knvt8jdtgm0k98e3.apps.googleusercontent.com",onSuccess:function(t){return te(e,t.tokenId)},onFailure:function(e){return console.log("Error! ",e)}})})},ce=function(){var e=Object(c.useState)(""),t=Object(o.a)(e,2),n=t[0],a=t[1],s=Object(c.useState)(""),i=Object(o.a)(s,2),j=i[0],l=i[1],b=Object(u.b)();return Object(r.jsxs)("div",{style:{width:"30rem",margin:"auto",paddingTop:"8px"},children:[Object(r.jsxs)(R.a,{onSubmit:function(e){e.preventDefault(),ee(b,{username:n,password:j})},children:[Object(r.jsx)("h4",{style:{textAlign:"center"},children:"Welcome back"}),Object(r.jsx)(Q.a,{className:"mb-3",children:Object(r.jsx)(X.a,{placeholder:"Username",onChange:function(e){return a(e.target.value)}})}),Object(r.jsx)(Q.a,{className:"mb-3",children:Object(r.jsx)(X.a,{placeholder:"Password",type:"password",onChange:function(e){return l(e.target.value)}})}),Object(r.jsx)(D.a,{type:"submit",variant:"primary",style:{margin:"auto",display:"block",width:"10rem"},children:"Sign In"})]}),Object(r.jsx)(re,{})]})},ae=function(){var e=Object(c.useState)(""),t=Object(o.a)(e,2),n=t[0],a=t[1],s=Object(c.useState)(""),i=Object(o.a)(s,2),j=i[0],l=i[1],b=Object(c.useState)(""),d=Object(o.a)(b,2),p=d[0],x=d[1],O=Object(c.useState)(""),h=Object(o.a)(O,2),f=h[0],g=h[1],m=Object(u.b)();return Object(r.jsxs)("div",{style:{width:"30rem",margin:"auto",paddingTop:"8px"},children:[Object(r.jsxs)(R.a,{onSubmit:function(e){e.preventDefault(),p===f&&_(m,{username:n,email:j,password:p})},children:[Object(r.jsx)("h4",{style:{textAlign:"center"},children:"Create an account"}),Object(r.jsx)(Q.a,{className:"mb-3",children:Object(r.jsx)(X.a,{placeholder:"Username",onChange:function(e){return a(e.target.value)}})}),Object(r.jsx)(Q.a,{className:"mb-3",children:Object(r.jsx)(X.a,{placeholder:"Email",onChange:function(e){return l(e.target.value)}})}),Object(r.jsx)(Q.a,{className:"mb-3",children:Object(r.jsx)(X.a,{placeholder:"Password",type:"password",onChange:function(e){return x(e.target.value)}})}),Object(r.jsx)(Q.a,{className:"mb-3",children:Object(r.jsx)(X.a,{placeholder:"Confirm Password",type:"password",onChange:function(e){return g(e.target.value)}})}),Object(r.jsx)(D.a,{type:"submit",variant:"success",style:{margin:"auto",display:"block",width:"10rem"},disabled:p!==f||p.length<=0,children:"Sign Up"})]}),Object(r.jsx)(re,{})]})},se=n(111),ie=Object(x.c)({name:"statistics",initialState:{expenseAmountPerCategory:[]},reducers:{setExpenseAmountPerCategory:function(e,t){return Object(j.a)(Object(j.a)({},e),{},{expenseAmountPerCategory:Object(p.a)(t.payload)})}}}),oe=ie.actions.setExpenseAmountPerCategory,ue=ie.reducer,je=C.create({baseURL:"".concat("https://localhost:44373","/statistics")});je.interceptors.request.use((function(e){return e.headers={authorization:"Bearer "+sessionStorage.getItem("token")},e}));var le=function(){var e=Object(d.a)(b.a.mark((function e(t){var n,r;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,je.get();case 3:n=e.sent,r=n.data,t(oe(r)),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}(),be=function(){var e=Object(u.b)(),t=Object(u.c)((function(e){return e.statisticsSlice.expenseAmountPerCategory})),n=Object(c.useState)({labels:[],data:[]}),a=Object(o.a)(n,2),s=a[0],i=a[1];Object(c.useEffect)((function(){le(e)}),[]),Object(c.useEffect)((function(){i({labels:t.map((function(e){return e.Key})),data:t.map((function(e){return e.Value}))})}),[t]);var j={labels:s.labels,datasets:[{data:s.data,backgroundColor:["#007bff","#FF0000","#FFD700","#28a745","#FF00FF","#ff9900","#00FFFF","#d69ae5","#FF8F66","#00FF00"]}]};return Object(r.jsxs)("div",{hidden:!t||!t.length,style:{maxWidth:"35rem",maxHeight:"35rem",margin:"auto",textAlign:"center"},children:[Object(r.jsx)("h4",{style:{marginTop:"10px"},children:"Expenses per Category"}),Object(r.jsx)(se.a,{data:j})]})},de=n(8),pe=function(){var e=Object(u.c)((function(e){return e.authenticationSlice})).isLoggedIn,t=Object(u.b)();return Object(c.useEffect)((function(){var e=sessionStorage.getItem("token");void 0!==e&&null!==e&&t($({token:e}))}),[]),Object(r.jsxs)(z.a,{children:[Object(r.jsx)(Y,{}),Object(r.jsxs)(de.d,{children:[Object(r.jsx)(de.b,{exact:!0,path:"/",render:function(){return e?Object(r.jsx)(G,{}):Object(r.jsx)(ce,{})}}),Object(r.jsx)(de.b,{path:"/signup",render:function(){return e?Object(r.jsx)(de.a,{to:"/"}):Object(r.jsx)(ae,{})}}),Object(r.jsx)(de.b,{path:"/signin",render:function(){return e?Object(r.jsx)(de.a,{to:"/"}):Object(r.jsx)(ce,{})}}),Object(r.jsx)(de.b,{path:"/statistics",render:function(){return e?Object(r.jsx)(be,{}):Object(r.jsx)(ce,{})}}),Object(r.jsx)(de.b,{component:function(){return Object(r.jsx)("h2",{children:"Page not found!"})}})]})]})},xe=function(){return function(e){return function(t){switch(t.type){case k.type:W.b.success("New expense added successfully");break;case w.type:W.b.success("Expense edited successfully");break;case E.type:W.b.success("Expense deleted successfully");break;case O.type:W.b.error("Error loading expenses");break;case h.type:W.b.error("Error adding new expense");break;case f.type:W.b.error("Error editing expense");break;case g.type:W.b.error("Error deleting expense")}return e(t)}}},Oe=Object(x.a)({reducer:{authenticationSlice:V,expensesSlice:S,statisticsSlice:ue},middleware:function(e){return e().concat(xe)}});Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));n(247),n(248);i.a.render(Object(r.jsx)(a.a.StrictMode,{children:Object(r.jsx)(u.a,{store:Oe,children:Object(r.jsx)(pe,{})})}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[249,1,2]]]);
//# sourceMappingURL=main.972df76e.chunk.js.map